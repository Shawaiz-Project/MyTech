{% extends "admin/base.html" %}
{% block page_title %}View Message{% endblock %}
{% block content %}
<div class="message-view-container" style="max-width: 800px; margin: 0 auto;">
    <div class="back-link" style="margin-bottom: 20px;">
        <a href="{{ url_for('admin_bp.messages') }}" style="text-decoration: none; color: #1F9DFF;">â† Back to Messages</a>
    </div>

    <div class="message-card" style="background: var(--bg-secondary, #1A2F45); border-radius: 8px; padding: 30px; border: 1px solid var(--border-color, #2A4060);">
        <div style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color, #2A4060);">
            <h2 style="margin: 0 0 15px 0; color: var(--heading-color, #35C9FF);">Message Details</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; font-size: 14px;">
                <div>
                    <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 5px;">Name</label>
                    <p style="margin: 0; color: var(--text-color, #DCE3EC);">{{ message.name }}</p>
                </div>
                <div>
                    <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 5px;">Email</label>
                    <p style="margin: 0; color: var(--text-color, #DCE3EC);"><a href="mailto:{{ message.email }}" style="color: #1F9DFF; text-decoration: none;">{{ message.email }}</a></p>
                </div>
                <div>
                    <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 5px;">Phone</label>
                    <p style="margin: 0; color: var(--text-color, #DCE3EC);">{{ message.phone if message.phone else 'Not provided' }}</p>
                </div>
                <div>
                    <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 5px;">Date</label>
                    <p style="margin: 0; color: var(--text-color, #DCE3EC);">{{ message.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</p>
                </div>
                <div>
                    <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 5px;">Status</label>
                    <p style="margin: 0; color: var(--text-color, #DCE3EC);">
                        <span style="background: {% if message.is_read %}#2E7D32{% else %}#F57C00{% endif %}; padding: 4px 12px; border-radius: 12px; font-size: 12px; color: white;">
                            {{ 'Read' if message.is_read else 'Unread' }}
                        </span>
                    </p>
                </div>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="color: var(--border-color, #7A8FA3); font-weight: 500; display: block; margin-bottom: 10px;">Message</label>
            <div style="background: var(--bg-primary, #0E1A2A); padding: 20px; border-radius: 6px; border-left: 4px solid #1F9DFF; white-space: pre-wrap; word-wrap: break-word; color: var(--text-color, #DCE3EC); line-height: 1.6;">{{ message.message }}</div>
        </div>

        <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
            <a href="{{ url_for('admin_bp.messages') }}" class="btn btn-sm" style="background: var(--bg-secondary, #1A2F45); border: 1px solid var(--border-color, #2A4060);">Back</a>
            <form method="POST" action="{{ url_for('admin_bp.delete_message', id=message.id) }}" style="display: inline;" onsubmit="return confirm('Delete this message?');">
                <button type="submit" class="btn btn-sm btn-delete">Delete Message</button>
            </form>
        </div>
    </div>
</div>

<style>
    .message-view-container {
        animation: fadeIn 0.3s ease-in;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .back-link a:hover {
        text-decoration: underline !important;
    }
</style>
{% endblock %}
